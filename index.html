<!DOCTYPE html>

<head>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/react/0.13.3/JSXTransformer.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/react/0.13.3/react.js"></script>
    <script type="text/javascript" src="JSMiBody.js"></script>
    <script type="text/javascript">
    function load() {
        var drop = document.getElementById('drop');

        drop.ondragover = function(e) {
            e.preventDefault();
            this.classList.add('over');
        };

        drop.ondragout = drop.ondragleave = drop.ondragexit = function(e) {
            this.classList.remove('over');
        };

        drop.ondrop = function(e) {
            e.preventDefault();
            this.classList.remove('over');

            var dt = e.dataTransfer;
            var files = dt.files;
            var file = files[0];
            var reader = new FileReader();
            reader.onload = function(e) {
                var arrayBuffer = reader.result;
                var intbuffer = new Uint8Array(arrayBuffer);
                var file = window.jsMiBody.jsMiBodyFile;
                var data = new file(intbuffer)
            }
            reader.readAsArrayBuffer(file);

        };
    }
    </script>
    <style type="text/css">
    #drop {
        background: #eee;
        height: 500px;
        width: 500px;
        border: 15px solid #ddd;
    }
    
    #drop.over {
        border-color: #aaa;
    }
    </style>
</head>

<body onload="load()">
    <p>Drag here</p>
    <div id="drop"></div>
    <p id="output"></p>
    <script type="text/jsx">
        var CommentBox = React.createClass({ 
        	render: function() { return (
			        <div className="commentBox">
			            Hello, world! I am a CommentBox.
			        </div>
        		); 
        	} 
    	}); 
    	
    	React.render(
        <CommentBox />, document.getElementById('output') );
    </script>
</body>
